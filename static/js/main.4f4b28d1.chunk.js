(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{26:function(e,t,s){},35:function(e,t,s){},42:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){"use strict";s.r(t);var o=s(1),i=s(27),n=s.n(i),c=(s(35),s(11)),r=s.n(c),b=s(16),a=s(8),j=s(9),l=s(3),u=s(17),d=s(12),h=(s(42),s(0));var O=function(e){var t=Object(o.useState)(null),s=Object(a.a)(t,2),i=s[0],n=s[1],c=Object(l.f)();return Object(h.jsxs)("header",{children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(j.b,{to:"/",children:Object(h.jsx)("h2",{children:"Home Page"})}),Object(h.jsx)(j.b,{to:"/favorites",children:Object(h.jsx)("h2",{children:"Favorites"})})]}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.push("/search/"+i)},children:[Object(h.jsx)("input",{type:"text",placeholder:"What title are you thinking?",onChange:function(e){n(e.target.value)}}),Object(h.jsx)("button",{children:Object(h.jsx)(d.a,{icon:u.a})})]})]})};s(26);function k(e){if(null!=e.book)return Object(h.jsx)(j.b,{to:"/book/".concat(e.book.primary_isbn13),children:Object(h.jsxs)("div",{className:"bookItem",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("h3",{children:e.book.author})]})]})})}var x=function(e){return null===e.bookList||void 0===e.bookList.results?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsx)("section",{className:"mainSection",children:Object(h.jsx)("div",{children:e.bookList.results.lists.map((function(e){return Object(h.jsxs)("div",{className:"bookRow",children:[Object(h.jsx)("h1",{children:e.display_name}),Object(h.jsxs)("div",{className:"bookList",children:[Object(h.jsx)(k,{book:e.books[0]}),Object(h.jsx)(k,{book:e.books[1]}),Object(h.jsx)(k,{book:e.books[2]}),Object(h.jsx)(k,{book:e.books[3]}),Object(h.jsx)(k,{book:e.books[4]})]})]})}))})})},f=s(30),v=s(29),p=s(50);s(46);function m(e){var t=Object(p.a)(["favorite"]),s=Object(a.a)(t,2),i=s[0],n=s[1],c=Object(o.useState)(!1),r=Object(a.a)(c,2),b=r[0],j=r[1];return null!==i.favorite&&void 0!==i.favorite||null!==i.favorite&&void 0!==i.favorite&&0!==i.favorite.length||(i.favorite={}),Object(o.useEffect)((function(){!0===i.favorite[e.book.primary_isbn13]&&j(!0)}),[]),Object(h.jsxs)("div",{className:"bookDescription",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"handleFavorite",children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("div",{onClick:function(t){b?(delete i.favorite[e.book.primary_isbn13],j(!1),n("favorite",i.favorite)):(i.favorite[e.book.primary_isbn13]=!0,j(!0),n("favorite",i.favorite))},children:b?Object(h.jsx)(d.a,{icon:u.b}):Object(h.jsx)(d.a,{icon:v.a})})]})}),Object(h.jsx)("h3",{children:e.book.description}),Object(h.jsxs)("div",{className:"bookCharacteristics",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Author"}),Object(h.jsx)("p",{children:e.book.author})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Publisher"}),Object(h.jsx)("p",{children:e.book.publisher})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"ISBN"}),Object(h.jsx)("p",{children:e.book.primary_isbn13})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Rank"}),Object(h.jsx)("p",{children:e.book.rank})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Rank last week"}),Object(h.jsx)("p",{children:e.book.rank_last_week})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Weeks on list"}),Object(h.jsx)("p",{children:e.book.weeks_on_list})]})]}),Object(h.jsxs)("a",{href:e.book.amazon_product_url,target:"_blank",children:[Object(h.jsx)(d.a,{icon:f.a}),"Buy on Amazon"]})]})]})}function L(e){var t=Object(o.useState)(null),s=Object(a.a)(t,2),i=s[0],n=s[1],c=function(){var t=Object(b.a)(r.a.mark((function t(){var s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.nytimes.com/svc/books/v3/reviews.json?isbn=".concat(e.isbn,"&api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB"));case 2:return s=t.sent,t.next=5,s.json();case 5:o=t.sent,n(o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){c()}),[]),null===i||0===i.num_results?null:Object(h.jsxs)("div",{className:"bookReviews",children:[Object(h.jsx)("h2",{children:"Reviews"}),i.results.map((function(e){return Object(h.jsxs)("a",{href:e.url,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:e.byline}),Object(h.jsx)("p",{children:e.publication_dt})]}),Object(h.jsx)("p",{children:e.summary})]})}))]})}var _=function(e){var t=Object(l.g)().isbn,s=function(){if(null===e.bookList||void 0===e.bookList.results)return null;for(var s in e.bookList.results.lists)for(var o in e.bookList.results.lists[s].books)if(e.bookList.results.lists[s].books[o].primary_isbn10===t||e.bookList.results.lists[s].books[o].primary_isbn13===t)return e.bookList.results.lists[s].books[o]}();return null===s||void 0===s?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsx)("section",{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{book:s}),Object(h.jsx)(L,{isbn:t})]})})};s(47);function y(e){if(null!=e.book)return Object(h.jsxs)(j.b,{to:"/book/".concat(e.book.primary_isbn13),className:"bookItem",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("h3",{children:e.book.author})]})]})}var g=function(e){var t=Object(o.useState)(null),s=Object(a.a)(t,2),i=s[0],n=s[1],c=Object(p.a)(["favorite"]),r=Object(a.a)(c,2),b=r[0],j=(r[1],Object(l.g)().search);return Object(o.useEffect)((function(){!function(){var t=[];if(!0===e.isMyList){if(void 0===b.favorite)return n([]),null;if(null===e.bookList||void 0===e.bookList.results)return null;for(var s in e.bookList.results.lists)for(var o in e.bookList.results.lists[s].books)for(var i in b.favorite)if(e.bookList.results.lists[s].books[o].primary_isbn13===i){var c=!1;for(var r in t)if(t[r].primary_isbn13===e.bookList.results.lists[s].books[o].primary_isbn13){c=!0;break}c||t.push(e.bookList.results.lists[s].books[o])}}else{if(void 0===j||null===e.bookList||void 0===e.bookList.results)return null;for(var a in e.bookList.results.lists)for(var l in e.bookList.results.lists[a].books)if(e.bookList.results.lists[a].books[l].title.toLowerCase().includes(j.toLowerCase())){var u=!1;for(var d in t)if(t[d].title===e.bookList.results.lists[a].books[l].title){u=!0;break}u||t.push(e.bookList.results.lists[a].books[l])}}n(t)}()}),[j,e]),null===i||null===e.bookList||void 0===e.bookList.results?Object(h.jsx)("p",{children:"Loading..."}):0===i.length?Object(h.jsx)("div",{className:"errorMessage",children:Object(h.jsx)("h2",{children:"No books found"})}):null!==i?Object(h.jsx)("section",{className:"mainSection",children:Object(h.jsx)("div",{className:"bookSearch",children:i.map((function(e){return Object(h.jsx)(y,{book:e},e.primary_isbn13)}))})}):void 0};s(48);var w=function(){var e=Object(o.useState)(null),t=Object(a.a)(e,2),s=t[0],i=t[1],n=function(){var e=Object(b.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/books/v3/lists/overview.json?api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log("asd"),i(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){n()}),[]),Object(h.jsxs)(j.a,{basename:"/WA-Final_Project",children:[Object(h.jsx)(O,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/book/:isbn",basename:"/WA-Final_Project",children:Object(h.jsx)(_,{bookList:s})}),Object(h.jsx)(l.a,{path:"/search/:search",basename:"/WA-Final_Project",children:Object(h.jsx)(g,{bookList:s})}),Object(h.jsx)(l.a,{path:"/favorites",basename:"/WA-Final_Project",children:Object(h.jsx)(g,{bookList:s,isMyList:!0})}),Object(h.jsx)(l.a,{path:"/",basename:"/WA-Final_Project",children:Object(h.jsx)(x,{bookList:s})})]})]})},N=s(51);n.a.render(Object(h.jsx)(N.a,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.4f4b28d1.chunk.js.map