{"version":3,"sources":["components/Header.js","components/BookList.js","components/BookPage.js","components/BookSearch.js","App.js","index.js"],"names":["Header","props","useState","search","setSearch","history","useHistory","to","onSubmit","event","preventDefault","push","type","placeholder","onChange","target","value","icon","faSearch","BookItem","book","primary_isbn13","className","src","book_image","alt","title","author","BookList","bookList","undefined","results","lists","map","list","display_name","books","BookDescription","useCookies","cookies","setCookie","isFavorite","setIsFavorite","length","useEffect","onClick","faStarSolid","faStarRegular","description","publisher","rank","rank_last_week","weeks_on_list","href","amazon_product_url","faAmazon","BookReviews","bookReviews","setBookReviews","loadBookReviews","a","fetch","isbn","response","json","num_results","review","url","byline","publication_dt","summary","BookPage","useParams","i","j","primary_isbn10","searchBook","BookSearch","setBooks","temp","isMyList","k","found","l","toLowerCase","includes","searchBooks","App","setBookList","loadBookList","basename","path","ReactDOM","render","CookiesProvider","document","getElementById"],"mappings":"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","file":"static/js/main.ce256132.chunk.js","sourcesContent":["import { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport \"./Header.css\";\r\n\r\nfunction Header(props) {\r\n\tconst [search, setSearch] = useState(null);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\thistory.push(\"/search/\" + search);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav>\r\n\t\t\t\t<Link to={\"/\"}>\r\n\t\t\t\t\t<h2>Home Page</h2>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to={\"/favorites\"}>\r\n\t\t\t\t\t<h2>Favorites</h2>\r\n\t\t\t\t</Link>\r\n\t\t\t</nav>\r\n\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"What title are you thinking?\"\r\n\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t// props.search(event.target.value);\r\n\t\t\t\t\t\tsetSearch(event.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t></input>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faSearch} />\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport \"./BookList.css\";\r\n\r\nfunction BookItem(props) {\r\n\tif (props.book == null) return;\r\n\r\n\treturn (\r\n\t\t<Link to={`/book/${props.book.primary_isbn13}`}>\r\n\t\t\t<div className=\"bookItem\">\r\n\t\t\t\t<img src={props.book.book_image} alt=\"\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>{props.book.title}</h2>\r\n\t\t\t\t\t<h3>{props.book.author}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nfunction BookList(props) {\r\n\tif (props.bookList === null || props.bookList.results === undefined) return <p>Loading...</p>;\r\n\r\n\treturn (\r\n\t\t<section className=\"mainSection\">\r\n\t\t\t<div>\r\n\t\t\t\t{props.bookList.results.lists.map((list) => (\r\n\t\t\t\t\t<div className=\"bookRow\">\r\n\t\t\t\t\t\t<h1>{list.display_name}</h1>\r\n\t\t\t\t\t\t<div className=\"bookList\">\r\n\t\t\t\t\t\t\t<BookItem book={list.books[0]} />\r\n\t\t\t\t\t\t\t<BookItem book={list.books[1]} />\r\n\t\t\t\t\t\t\t<BookItem book={list.books[2]} />\r\n\t\t\t\t\t\t\t<BookItem book={list.books[3]} />\r\n\t\t\t\t\t\t\t<BookItem book={list.books[4]} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default BookList;\r\n","import { faAmazon } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { faStar as faStarRegular } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { faStar as faStarSolid } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport \"./BookPage.css\";\r\n\r\nfunction BookDescription(props) {\r\n\tconst [cookies, setCookie] = useCookies([\"favorite\"]);\r\n\tconst [isFavorite, setIsFavorite] = useState(false);\r\n\r\n\tconst handleFavorite = (event) => {\r\n\t\tif (isFavorite) {\r\n\t\t\tdelete cookies[\"favorite\"][props.book.primary_isbn13];\r\n\t\t\tsetIsFavorite(false);\r\n\t\t\tsetCookie(\"favorite\", cookies[\"favorite\"]);\r\n\t\t} else {\r\n\t\t\tcookies[\"favorite\"][props.book.primary_isbn13] = true;\r\n\t\t\tsetIsFavorite(true);\r\n\t\t\tsetCookie(\"favorite\", cookies[\"favorite\"]);\r\n\t\t}\r\n\t};\r\n\r\n\tif (cookies[\"favorite\"] === null || cookies[\"favorite\"] === undefined) {\r\n\t\tif (cookies[\"favorite\"] === null || cookies[\"favorite\"] === undefined || cookies[\"favorite\"].length === 0) {\r\n\t\t\tcookies[\"favorite\"] = {};\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (cookies[\"favorite\"][props.book.primary_isbn13] === true) {\r\n\t\t\tsetIsFavorite(true);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"bookDescription\">\r\n\t\t\t<img src={props.book.book_image} alt=\"\" />\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"handleFavorite\">\r\n\t\t\t\t\t\t<h2>{props.book.title}</h2>\r\n\t\t\t\t\t\t<div onClick={handleFavorite}>{isFavorite ? <FontAwesomeIcon icon={faStarSolid} /> : <FontAwesomeIcon icon={faStarRegular} />}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3>{props.book.description}</h3>\r\n\t\t\t\t<div className=\"bookCharacteristics\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>Author</b>\r\n\t\t\t\t\t\t<p>{props.book.author}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>Publisher</b>\r\n\t\t\t\t\t\t<p>{props.book.publisher}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>ISBN</b>\r\n\t\t\t\t\t\t<p>{props.book.primary_isbn13}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>Rank</b>\r\n\t\t\t\t\t\t<p>{props.book.rank}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>Rank last week</b>\r\n\t\t\t\t\t\t<p>{props.book.rank_last_week}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b>Weeks on list</b>\r\n\t\t\t\t\t\t<p>{props.book.weeks_on_list}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a href={props.book.amazon_product_url} target=\"_blank\">\r\n\t\t\t\t\t<FontAwesomeIcon icon={faAmazon} />\r\n\t\t\t\t\tBuy on Amazon\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction BookReviews(props) {\r\n\tconst [bookReviews, setBookReviews] = useState(null);\r\n\r\n\tconst loadBookReviews = async () => {\r\n\t\tconst response = await fetch(`https://api.nytimes.com/svc/books/v3/reviews.json?isbn=${props.isbn}&api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB`);\r\n\t\tconst json = await response.json();\r\n\r\n\t\tsetBookReviews(json);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tloadBookReviews();\r\n\t}, []);\r\n\r\n\tif (bookReviews === null || bookReviews.num_results === 0) return null;\r\n\r\n\treturn (\r\n\t\t<div className=\"bookReviews\">\r\n\t\t\t<h2>Reviews</h2>\r\n\t\t\t{bookReviews.results.map((review) => (\r\n\t\t\t\t<a href={review.url}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>{review.byline}</p>\r\n\t\t\t\t\t\t<p>{review.publication_dt}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>{review.summary}</p>\r\n\t\t\t\t</a>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction BookPage(props) {\r\n\tconst { isbn } = useParams();\r\n\r\n\tconst searchBook = () => {\r\n\t\tif (props.bookList === null || props.bookList.results === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tfor (var i in props.bookList.results.lists) {\r\n\t\t\tfor (var j in props.bookList.results.lists[i].books) {\r\n\t\t\t\tif (props.bookList.results.lists[i].books[j].primary_isbn10 === isbn || props.bookList.results.lists[i].books[j].primary_isbn13 === isbn) {\r\n\t\t\t\t\treturn props.bookList.results.lists[i].books[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst book = searchBook();\r\n\r\n\tif (book === null || book === undefined) return <p>Loading...</p>;\r\n\r\n\treturn (\r\n\t\t<section>\r\n\t\t\t<div>\r\n\t\t\t\t<BookDescription book={book} />\r\n\t\t\t\t<BookReviews isbn={isbn} />\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default BookPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport \"./BookList.css\";\r\nimport \"./BookSearch.css\";\r\n\r\nfunction BookItem(props) {\r\n\tif (props.book == null) return;\r\n\r\n\treturn (\r\n\t\t<Link to={`/book/${props.book.primary_isbn13}`} className=\"bookItem\">\r\n\t\t\t<img src={props.book.book_image} alt=\"\" />\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{props.book.title}</h2>\r\n\t\t\t\t<h3>{props.book.author}</h3>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\nfunction BookSearch(props) {\r\n\tconst [books, setBooks] = useState(null);\r\n\tconst [cookies, setCookie] = useCookies([\"favorite\"]);\r\n\tconst { search } = useParams();\r\n\r\n\tconst searchBooks = () => {\r\n\t\tlet temp = [];\r\n\t\tif (props.isMyList === true) {\r\n\t\t\tif (cookies[\"favorite\"] === undefined) {\r\n\t\t\t\tsetBooks([]);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (props.bookList === null || props.bookList.results === undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Searches books which contains the search on it's title\r\n\t\t\tfor (let i in props.bookList.results.lists) {\r\n\t\t\t\tfor (let j in props.bookList.results.lists[i].books) {\r\n\t\t\t\t\tfor (let k in cookies[\"favorite\"]) {\r\n\t\t\t\t\t\tif (props.bookList.results.lists[i].books[j].primary_isbn13 === k) {\r\n\t\t\t\t\t\t\t// Prevent duplicates\r\n\t\t\t\t\t\t\tlet found = false;\r\n\t\t\t\t\t\t\tfor (let l in temp) {\r\n\t\t\t\t\t\t\t\tif (temp[l].primary_isbn13 === props.bookList.results.lists[i].books[j].primary_isbn13) {\r\n\t\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\t\t\ttemp.push(props.bookList.results.lists[i].books[j]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (search === undefined || props.bookList === null || props.bookList.results === undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Searches books which contains the search on it's title\r\n\t\t\tfor (let i in props.bookList.results.lists) {\r\n\t\t\t\tfor (let j in props.bookList.results.lists[i].books) {\r\n\t\t\t\t\tif (props.bookList.results.lists[i].books[j].title.toLowerCase().includes(search.toLowerCase())) {\r\n\t\t\t\t\t\t// Prevent duplicates\r\n\t\t\t\t\t\tlet found = false;\r\n\t\t\t\t\t\tfor (let k in temp) {\r\n\t\t\t\t\t\t\tif (temp[k].title === props.bookList.results.lists[i].books[j].title) {\r\n\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\t\ttemp.push(props.bookList.results.lists[i].books[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetBooks(temp);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsearchBooks();\r\n\t}, [search, props]);\r\n\r\n\tif (books === null || props.bookList === null || props.bookList.results === undefined) return <p>Loading...</p>;\r\n\telse if (books.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"errorMessage\">\r\n\t\t\t\t<h2>No books found</h2>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (books !== null) {\r\n\t\treturn (\r\n\t\t\t<section className=\"mainSection\">\r\n\t\t\t\t<div className=\"bookSearch\">\r\n\t\t\t\t\t{books.map((book) => (\r\n\t\t\t\t\t\t<BookItem key={book.primary_isbn13} book={book} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BookSearch;\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Header from \"./components/Header\";\nimport BookList from \"./components/BookList\";\nimport BookPage from \"./components/BookPage\";\nimport BookSearch from \"./components/BookSearch\";\n\nimport \"./App.css\";\n\nfunction App() {\n\tconst [bookList, setBookList] = useState(null);\n\n\tconst loadBookList = async () => {\n\t\tconst response = await fetch(\"https://api.nytimes.com/svc/books/v3/lists/overview.json?api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB\");\n\t\tconst json = await response.json();\n\n\t\tsetBookList(json);\n\t};\n\n\tuseEffect(() => {\n\t\tloadBookList();\n\t}, []);\n\n\treturn (\n\t\t<Router basename=\"/WA-Final_Project\">\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/book/:isbn\">\n\t\t\t\t\t<BookPage bookList={bookList} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/search/:search\">\n\t\t\t\t\t<BookSearch bookList={bookList} />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/favorites\">\n\t\t\t\t\t<BookSearch bookList={bookList} isMyList={true}/>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<BookList bookList={bookList} />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { CookiesProvider } from \"react-cookie\";\n\nReactDOM.render(\n\t<CookiesProvider>\n\t\t<App />\n\t</CookiesProvider>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}