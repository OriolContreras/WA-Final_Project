(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{26:function(e,t,s){},35:function(e,t,s){},42:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){"use strict";s.r(t);var i=s(1),o=s(27),c=s.n(o),n=(s(35),s(11)),r=s.n(n),b=s(16),j=s(8),a=s(9),l=s(3),u=s(17),d=s(12),h=(s(42),s(0));var O=function(e){var t=Object(i.useState)(null),s=Object(j.a)(t,2),o=s[0],c=s[1],n=Object(l.f)();return Object(h.jsxs)("header",{children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(a.b,{to:"/",children:Object(h.jsx)("h2",{children:"Home Page"})}),Object(h.jsx)(a.b,{to:"/favorites",children:Object(h.jsx)("h2",{children:"Favorites"})})]}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.push("/search/"+o)},children:[Object(h.jsx)("input",{type:"text",placeholder:"What title are you thinking?",onChange:function(e){c(e.target.value)}}),Object(h.jsx)("button",{children:Object(h.jsx)(d.a,{icon:u.a})})]})]})};s(26);function k(e){if(null!=e.book)return Object(h.jsx)(a.b,{to:"/book/".concat(e.book.primary_isbn13),children:Object(h.jsxs)("div",{className:"bookItem",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("h3",{children:e.book.author})]})]})})}var x=function(e){return null===e.bookList||void 0===e.bookList.results?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsx)("section",{className:"mainSection",children:Object(h.jsx)("div",{children:e.bookList.results.lists.map((function(e){return Object(h.jsxs)("div",{className:"bookRow",children:[Object(h.jsx)("h1",{children:e.display_name}),Object(h.jsxs)("div",{className:"bookList",children:[Object(h.jsx)(k,{book:e.books[0]}),Object(h.jsx)(k,{book:e.books[1]}),Object(h.jsx)(k,{book:e.books[2]}),Object(h.jsx)(k,{book:e.books[3]}),Object(h.jsx)(k,{book:e.books[4]})]})]})}))})})},f=s(30),v=s(29),p=s(50);s(46);function m(e){var t=Object(p.a)(["favorite"]),s=Object(j.a)(t,2),o=s[0],c=s[1],n=Object(i.useState)(!1),r=Object(j.a)(n,2),b=r[0],a=r[1];return null!==o.favorite&&void 0!==o.favorite||null!==o.favorite&&void 0!==o.favorite&&0!==o.favorite.length||(o.favorite={}),Object(i.useEffect)((function(){!0===o.favorite[e.book.primary_isbn13]&&a(!0)}),[]),Object(h.jsxs)("div",{className:"bookDescription",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"handleFavorite",children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("div",{onClick:function(t){b?(delete o.favorite[e.book.primary_isbn13],a(!1),c("favorite",o.favorite)):(o.favorite[e.book.primary_isbn13]=!0,a(!0),c("favorite",o.favorite))},children:b?Object(h.jsx)(d.a,{icon:u.b}):Object(h.jsx)(d.a,{icon:v.a})})]})}),Object(h.jsx)("h3",{children:e.book.description}),Object(h.jsxs)("div",{className:"bookCharacteristics",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Author"}),Object(h.jsx)("p",{children:e.book.author})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Publisher"}),Object(h.jsx)("p",{children:e.book.publisher})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"ISBN"}),Object(h.jsx)("p",{children:e.book.primary_isbn13})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Rank"}),Object(h.jsx)("p",{children:e.book.rank})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Rank last week"}),Object(h.jsx)("p",{children:e.book.rank_last_week})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Weeks on list"}),Object(h.jsx)("p",{children:e.book.weeks_on_list})]})]}),Object(h.jsxs)("a",{href:e.book.amazon_product_url,target:"_blank",children:[Object(h.jsx)(d.a,{icon:f.a}),"Buy on Amazon"]})]})]})}function L(e){var t=Object(i.useState)(null),s=Object(j.a)(t,2),o=s[0],c=s[1],n=function(){var t=Object(b.a)(r.a.mark((function t(){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.nytimes.com/svc/books/v3/reviews.json?isbn=".concat(e.isbn,"&api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB"));case 2:return s=t.sent,t.next=5,s.json();case 5:i=t.sent,c(i);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){n()}),[]),null===o||0===o.num_results?null:Object(h.jsxs)("div",{className:"bookReviews",children:[Object(h.jsx)("h2",{children:"Reviews"}),o.results.map((function(e){return Object(h.jsxs)("a",{href:e.url,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:e.byline}),Object(h.jsx)("p",{children:e.publication_dt})]}),Object(h.jsx)("p",{children:e.summary})]})}))]})}var y=function(e){var t=Object(l.g)().isbn,s=function(){if(null===e.bookList||void 0===e.bookList.results)return null;for(var s in e.bookList.results.lists)for(var i in e.bookList.results.lists[s].books)if(e.bookList.results.lists[s].books[i].primary_isbn10===t||e.bookList.results.lists[s].books[i].primary_isbn13===t)return e.bookList.results.lists[s].books[i]}();return null===s||void 0===s?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsx)("section",{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{book:s}),Object(h.jsx)(L,{isbn:t})]})})};s(47);function _(e){if(null!=e.book)return Object(h.jsxs)(a.b,{to:"/book/".concat(e.book.primary_isbn13),className:"bookItem",children:[Object(h.jsx)("img",{src:e.book.book_image,alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.book.title}),Object(h.jsx)("h3",{children:e.book.author})]})]})}var g=function(e){var t=Object(i.useState)(null),s=Object(j.a)(t,2),o=s[0],c=s[1],n=Object(p.a)(["favorite"]),r=Object(j.a)(n,2),b=r[0],a=(r[1],Object(l.g)().search);return Object(i.useEffect)((function(){!function(){var t=[];if(!0===e.isMyList){if(void 0===b.favorite)return c([]),null;if(null===e.bookList||void 0===e.bookList.results)return null;for(var s in e.bookList.results.lists)for(var i in e.bookList.results.lists[s].books)for(var o in b.favorite)if(e.bookList.results.lists[s].books[i].primary_isbn13===o){var n=!1;for(var r in t)if(t[r].primary_isbn13===e.bookList.results.lists[s].books[i].primary_isbn13){n=!0;break}n||t.push(e.bookList.results.lists[s].books[i])}}else{if(void 0===a||null===e.bookList||void 0===e.bookList.results)return null;for(var j in e.bookList.results.lists)for(var l in e.bookList.results.lists[j].books)if(e.bookList.results.lists[j].books[l].title.toLowerCase().includes(a.toLowerCase())){var u=!1;for(var d in t)if(t[d].title===e.bookList.results.lists[j].books[l].title){u=!0;break}u||t.push(e.bookList.results.lists[j].books[l])}}c(t)}()}),[a,e]),null===o||null===e.bookList||void 0===e.bookList.results?Object(h.jsx)("p",{children:"Loading..."}):0===o.length?Object(h.jsx)("div",{className:"errorMessage",children:Object(h.jsx)("h2",{children:"No books found"})}):null!==o?Object(h.jsx)("section",{className:"mainSection",children:Object(h.jsx)("div",{className:"bookSearch",children:o.map((function(e){return Object(h.jsx)(_,{book:e},e.primary_isbn13)}))})}):void 0};s(48);var w=function(){var e=Object(i.useState)(null),t=Object(j.a)(e,2),s=t[0],o=t[1],c=function(){var e=Object(b.a)(r.a.mark((function e(){var t,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/books/v3/lists/overview.json?api-key=ZlEAw94ZuEGdP3EW1LyGVFMAHDefWESB");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,o(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){c()}),[]),Object(h.jsxs)(a.a,{basename:"/WA-Final_Project",children:[Object(h.jsx)(O,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/book/:isbn",children:Object(h.jsx)(y,{bookList:s})}),Object(h.jsx)(l.a,{path:"/search/:search",children:Object(h.jsx)(g,{bookList:s})}),Object(h.jsx)(l.a,{path:"/favorites",children:Object(h.jsx)(g,{bookList:s,isMyList:!0})}),Object(h.jsx)(l.a,{path:"/",children:Object(h.jsx)(x,{bookList:s})})]})]})},N=s(51);c.a.render(Object(h.jsx)(N.a,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.42ab7135.chunk.js.map